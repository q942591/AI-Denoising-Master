# ç§¯åˆ†å¥—é¤ç§å­æ•°æ®æŒ‡å—

## æ¦‚è¿°

æœ¬æŒ‡å—è¯¦ç»†è¯´æ˜äº†ç§¯åˆ†å¥—é¤ç³»ç»Ÿçš„ç§å­æ•°æ®é…ç½®ï¼ŒåŒ…æ‹¬å¥—é¤å®šä¹‰ã€åŠŸèƒ½ç‰¹æ€§å’Œæ¶ˆè´¹é…ç½®ã€‚æ‰€æœ‰æ•°æ®éƒ½å·²æ ¹æ®pricing-plans.tsxç»„ä»¶çš„æœŸæœ›è¿›è¡Œä¼˜åŒ–ã€‚

## ğŸ—ï¸ æ•°æ®ç»“æ„

### 1. ç§¯åˆ†å¥—é¤ (Credit Packages)

ä½ç½®ï¼š`src/db/seed/credit-packages.ts`

```typescript
interface CreditPackage {
  id: string;           // å”¯ä¸€æ ‡è¯†ç¬¦
  name: string;         // å¥—é¤åç§°
  credits: number;      // ç§¯åˆ†æ•°é‡
  price: number;        // ä»·æ ¼ï¼ˆç¾åˆ†ï¼‰
  currency: string;     // è´§å¸ç±»å‹ï¼ˆé»˜è®¤: usdï¼‰
  description: string;  // å¥—é¤æè¿°
  isActive: boolean;    // æ˜¯å¦æ¿€æ´»
  isPopular: boolean;   // æ˜¯å¦çƒ­é—¨
  sortOrder: number;    // æ’åºé¡ºåº
}
```

### 2. å¥—é¤åŠŸèƒ½ç‰¹æ€§ (Package Features)

ä½ç½®ï¼š`src/db/seed/credit-package-features.ts`

```typescript
interface PackageFeature {
  id: string;           // å”¯ä¸€æ ‡è¯†ç¬¦  
  packageId: string;    // å…³è”çš„å¥—é¤ID
  featureKey: string;   // åŠŸèƒ½é”®ï¼ˆç”¨äºå›½é™…åŒ–ï¼‰
  isActive: boolean;    // æ˜¯å¦æ¿€æ´»
  sortOrder: number;    // æ’åºé¡ºåº
}
```

### 3. ç§¯åˆ†æ¶ˆè´¹é…ç½® (Consumption Config)

ä½ç½®ï¼š`src/db/seed/credit-consumption-config.ts`

```typescript
interface ConsumptionConfig {
  id: string;           // å”¯ä¸€æ ‡è¯†ç¬¦
  actionType: string;   // æ“ä½œç±»å‹
  creditsRequired: number; // æ‰€éœ€ç§¯åˆ†
  description: string;  // æè¿°
  isActive: boolean;    // æ˜¯å¦æ¿€æ´»
}
```

## ğŸ“¦ å¥—é¤é…ç½®è¯¦æƒ…

### å…¥é—¨å¥—é¤ (100ç§¯åˆ† - $9.99)

- **ç›®æ ‡ç”¨æˆ·**ï¼šå¶å°”ä½¿ç”¨AIåŠŸèƒ½çš„ä¸ªäººç”¨æˆ·
- **åŠŸèƒ½ç‰¹æ€§**ï¼š
  - åŸºç¡€ç§¯åˆ†åŒ…
  - å›¾åƒå¤„ç†
  - å›¾åƒä¸Šè‰²
  - ç§¯åˆ†æ°¸ä¸è¿‡æœŸ
- **é€‚ç”¨åœºæ™¯**ï¼šçº¦20å¼ å›¾ç‰‡ä¸Šè‰²ã€15å¼ è¶…åˆ†è¾¨ç‡æˆ–25å¼ å¢å¼ºå¤„ç†

### æ ‡å‡†å¥—é¤ (300ç§¯åˆ† - $24.99) ğŸ”¥ çƒ­é—¨

- **ç›®æ ‡ç”¨æˆ·**ï¼šå¸¸è§„ä½¿ç”¨çš„ç”¨æˆ·
- **åŠŸèƒ½ç‰¹æ€§**ï¼š
  - åŸºç¡€ç§¯åˆ†åŒ…
  - å›¾åƒå¤„ç†
  - å›¾åƒä¸Šè‰²
  - å›¾åƒä¿®å¤
  - ç§¯åˆ†æ°¸ä¸è¿‡æœŸ
  - ä¼˜å…ˆå®¢æœæ”¯æŒ
- **é€‚ç”¨åœºæ™¯**ï¼šçº¦60å¼ å›¾ç‰‡ä¸Šè‰²ã€45å¼ è¶…åˆ†è¾¨ç‡æˆ–75å¼ å¢å¼ºå¤„ç†
- **ä¼˜åŠ¿**ï¼šç›¸æ¯”å•æ¬¡è´­ä¹°èŠ‚çœ17%è´¹ç”¨

### çƒ­é—¨å¥—é¤ (600ç§¯åˆ† - $39.99)

- **ç›®æ ‡ç”¨æˆ·**ï¼šä¸“ä¸šç”¨æˆ·å’Œå°å›¢é˜Ÿ
- **åŠŸèƒ½ç‰¹æ€§**ï¼š
  - åŸºç¡€ç§¯åˆ†åŒ…
  - å›¾åƒå¤„ç†
  - å›¾åƒä¸Šè‰²
  - å›¾åƒä¿®å¤
  - å›¾åƒå¢å¼º
  - ç§¯åˆ†æ°¸ä¸è¿‡æœŸ
  - ä¼˜å…ˆå®¢æœæ”¯æŒ
- **é€‚ç”¨åœºæ™¯**ï¼šçº¦120å¼ å›¾ç‰‡ä¸Šè‰²ã€90å¼ è¶…åˆ†è¾¨ç‡æˆ–150å¼ å¢å¼ºå¤„ç†
- **ä¼˜åŠ¿**ï¼šç›¸æ¯”å•æ¬¡è´­ä¹°èŠ‚çœ33%è´¹ç”¨

### ä¸“ä¸šå¥—é¤ (1200ç§¯åˆ† - $69.99) ğŸ‘‘

- **ç›®æ ‡ç”¨æˆ·**ï¼šä¼ä¸šçº§ç”¨æˆ·
- **åŠŸèƒ½ç‰¹æ€§**ï¼š
  - åŸºç¡€ç§¯åˆ†åŒ…
  - å›¾åƒå¤„ç†
  - å›¾åƒä¸Šè‰²
  - å›¾åƒä¿®å¤
  - å›¾åƒå¢å¼º
  - è¶…åˆ†è¾¨ç‡å¤„ç†
  - æ‰¹é‡å¤„ç†
  - ç§¯åˆ†æ°¸ä¸è¿‡æœŸ
  - ä¼˜å…ˆå®¢æœæ”¯æŒ
  - APIè®¿é—®æƒé™
- **é€‚ç”¨åœºæ™¯**ï¼šçº¦240å¼ å›¾ç‰‡ä¸Šè‰²ã€180å¼ è¶…åˆ†è¾¨ç‡æˆ–300å¼ å¢å¼ºå¤„ç†
- **ä¼˜åŠ¿**ï¼šç›¸æ¯”å•æ¬¡è´­ä¹°èŠ‚çœ42%è´¹ç”¨

## ğŸ”§ åŠŸèƒ½ç‰¹æ€§é”®æ˜ å°„

| åŠŸèƒ½é”® | æè¿° | åº”ç”¨å¥—é¤ |
|--------|------|----------|
| `basic_credits` | åŸºç¡€ç§¯åˆ†åŒ… | æ‰€æœ‰å¥—é¤ |
| `image_processing` | å›¾åƒå¤„ç† | æ‰€æœ‰å¥—é¤ |
| `colorization` | å›¾åƒä¸Šè‰² | æ‰€æœ‰å¥—é¤ |
| `no_expiry` | ç§¯åˆ†æ°¸ä¸è¿‡æœŸ | æ‰€æœ‰å¥—é¤ |
| `restoration` | å›¾åƒä¿®å¤ | æ ‡å‡†ã€çƒ­é—¨ã€ä¸“ä¸š |
| `priority_support` | ä¼˜å…ˆå®¢æœæ”¯æŒ | æ ‡å‡†ã€çƒ­é—¨ã€ä¸“ä¸š |
| `enhancement` | å›¾åƒå¢å¼º | çƒ­é—¨ã€ä¸“ä¸š |
| `super_resolution` | è¶…åˆ†è¾¨ç‡ | ä¸“ä¸š |
| `bulk_processing` | æ‰¹é‡å¤„ç† | ä¸“ä¸š |
| `api_access` | APIè®¿é—® | ä¸“ä¸š |

## ğŸ’° ç§¯åˆ†æ¶ˆè´¹é…ç½®

| æ“ä½œç±»å‹ | æ‰€éœ€ç§¯åˆ† | æè¿° |
|----------|----------|------|
| `image_colorize` | 5 | é»‘ç™½å›¾åƒä¸Šè‰² |
| `image_upscale` | 8 | å›¾åƒè¶…åˆ†è¾¨ç‡ |
| `image_enhance` | 6 | å›¾åƒå¢å¼º |
| `image_restore` | 10 | å›¾åƒä¿®å¤ |
| `video_generate` | 50 | LivePortraitè§†é¢‘ç”Ÿæˆ |

## ğŸš€ ä½¿ç”¨æ–¹æ³•

### 1. æ’­ç§æ‰€æœ‰æ•°æ®

```bash
# æ’­ç§æ‰€æœ‰ç§å­æ•°æ®
bun db:seed

# æˆ–è€…åˆ†åˆ«æ’­ç§
bun db:seed:credits    # ç§¯åˆ†å¥—é¤
bun db:seed:features   # å¥—é¤åŠŸèƒ½
bun db:seed:config     # æ¶ˆè´¹é…ç½®
```

### 2. æŸ¥è¯¢å¥—é¤æ•°æ®

```typescript
import { getCreditPackagesWithFeatures } from "~/lib/queries/credit-packages";

// è·å–æ‰€æœ‰æ¿€æ´»çš„å¥—é¤ï¼ˆåŒ…å«åŠŸèƒ½ç‰¹æ€§ï¼‰
const packages = await getCreditPackagesWithFeatures();

// è·å–çƒ­é—¨å¥—é¤
const popularPackage = await getPopularCreditPackage();
```

### 3. åœ¨ç»„ä»¶ä¸­ä½¿ç”¨

```typescript
import { PricingPlans } from "~/ui/components/pricing/pricing-plans";
import { getCreditPackagesWithFeatures } from "~/lib/queries/credit-packages";

export default async function PricingPage() {
  const packages = await getCreditPackagesWithFeatures();
  
  return (
    <PricingPlans 
      packages={packages}
      onSelectPlan={(plan) => {
        // å¤„ç†å¥—é¤é€‰æ‹©
      }}
    />
  );
}
```

## âœ… æ•°æ®éªŒè¯

### æ£€æŸ¥å¥—é¤æ•°æ®

- [ ] æ‰€æœ‰å¥—é¤éƒ½æœ‰æ­£ç¡®çš„å¸ƒå°”å€¼ç±»å‹ï¼ˆisActive, isPopularï¼‰
- [ ] ä»·æ ¼ä»¥ç¾åˆ†ä¸ºå•ä½å­˜å‚¨
- [ ] å¥—é¤æŒ‰sortOrderæ­£ç¡®æ’åº
- [ ] çƒ­é—¨æ ‡ç­¾åªæ ‡è®°åœ¨ä¸€ä¸ªå¥—é¤ä¸Š

### æ£€æŸ¥åŠŸèƒ½ç‰¹æ€§

- [ ] æ¯ä¸ªå¥—é¤éƒ½æœ‰å¯¹åº”çš„åŠŸèƒ½ç‰¹æ€§è®°å½•
- [ ] åŠŸèƒ½é”®ä¸å›½é™…åŒ–æ–‡ä»¶ä¸­çš„é”®åŒ¹é…
- [ ] åŠŸèƒ½ç‰¹æ€§æŒ‰sortOrderæ­£ç¡®æ’åº

### æ£€æŸ¥æ¶ˆè´¹é…ç½®

- [ ] æ‰€æœ‰AIæ“ä½œéƒ½æœ‰å¯¹åº”çš„ç§¯åˆ†æ¶ˆè´¹é…ç½®
- [ ] ç§¯åˆ†æ¶ˆè´¹é‡åˆç†ï¼ˆä¸ä¼šå¤ªé«˜æˆ–å¤ªä½ï¼‰
- [ ] é…ç½®é¡¹éƒ½å¤„äºæ¿€æ´»çŠ¶æ€

## ğŸ”„ ä¸å‰ç«¯é›†æˆ

### PricingPlansç»„ä»¶å…¼å®¹æ€§

- âœ… æ”¯æŒDatabasePackageæ¥å£ï¼ˆç°åœ¨æ˜¯CreditPackageWithFeaturesï¼‰
- âœ… è‡ªåŠ¨å¤„ç†åŠŸèƒ½ç‰¹æ€§ç¿»è¯‘
- âœ… æ”¯æŒåŸä»·è®¡ç®—å’ŒæŠ˜æ‰£æ˜¾ç¤º
- âœ… æä¾›å›é€€æ•°æ®ä»¥é˜²æ•°æ®åº“ä¸ºç©º

### å›½é™…åŒ–æ”¯æŒ

æ‰€æœ‰åŠŸèƒ½ç‰¹æ€§é”®éƒ½è®¾è®¡ä¸ºä¸next-intlå…¼å®¹ï¼š

```json
// messages/zh.json
{
  "Pricing": {
    "features": {
      "basic_credits": "{credits} ç§¯åˆ†",
      "image_processing": "å›¾åƒå¤„ç†",
      "colorization": "å›¾åƒä¸Šè‰²",
      "no_expiry": "ç§¯åˆ†æ°¸ä¸è¿‡æœŸ"
    }
  }
}
```

## ğŸ“ˆ æ‰©å±•æŒ‡å—

### æ·»åŠ æ–°å¥—é¤

1. åœ¨`credit-packages.ts`ä¸­æ·»åŠ å¥—é¤æ•°æ®
2. åœ¨`credit-package-features.ts`ä¸­å®šä¹‰åŠŸèƒ½æ˜ å°„
3. åœ¨`pricing-plans.tsx`ä¸­æ·»åŠ å›¾æ ‡æ˜ å°„ï¼ˆå¦‚éœ€è¦ï¼‰
4. æ›´æ–°å›½é™…åŒ–æ–‡ä»¶

### æ·»åŠ æ–°åŠŸèƒ½ç‰¹æ€§

1. åœ¨`AVAILABLE_FEATURES`ä¸­å®šä¹‰æ–°é”®
2. åœ¨ç›¸åº”å¥—é¤çš„`PACKAGE_FEATURES`ä¸­æ·»åŠ 
3. åœ¨å›½é™…åŒ–æ–‡ä»¶ä¸­æ·»åŠ ç¿»è¯‘

### ä¿®æ”¹æ¶ˆè´¹é…ç½®

1. åœ¨`credit-consumption-config.ts`ä¸­æ·»åŠ æˆ–ä¿®æ”¹é…ç½®
2. ç¡®ä¿ä¸å®é™…AIæ“ä½œé€»è¾‘åŒ¹é…

---

*æ•°æ®æ›´æ–°åï¼Œè¯·ç¡®ä¿è¿è¡Œç›¸åº”çš„ç§å­è„šæœ¬å¹¶éªŒè¯å‰ç«¯æ˜¾ç¤ºæ•ˆæœã€‚*
